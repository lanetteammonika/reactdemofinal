import React,{ Component } from 'react';import { ListView ,View} from 'react-native';import ListItem from './ListItem';import { employeeFetch,logoutUser } from '../actions';import {connect} from 'react-redux';import _ from 'lodash';import {CardSection,Buttons} from './common';class EmployeeList extends Component{    componentWillMount(){        debugger        this.props.employeeFetch();        this.createDataSource(this.props);    }    componentWillReceiveProps(nextProps){        debugger        this.createDataSource(nextProps);    }    createDataSource({ employees }){        debugger        const ds=new ListView.DataSource({            rowHasChanged:(r1,r2)=>r1!==r2        });        this.dataSource=ds.cloneWithRows(employees);    }    renderRow(employee){        return <ListItem employee={employee}/>    }    renderbutton(){        this.props.logoutUser()    }    render(){      //  console.log(this.props);        return(            <View style={{flex:1}}>                <ListView enableEmptySections                          dataSource={this.dataSource}                          renderRow={this.renderRow}                />                <CardSection>                    <Buttons onPress={this.renderbutton.bind(this)}>Log out</Buttons>                </CardSection>            </View>        );    }}const mapStateToProps = (state) => {       const employees= _.map(state.employees,(val,uid) =>{           return {...val,uid};    })    return { employees };};export default connect(mapStateToProps,{employeeFetch,logoutUser})(EmployeeList)